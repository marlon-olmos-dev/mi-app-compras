<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mi App de Compras</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div style="text-align: center; margin-bottom: 24px;">
            <h1>üõí Mi App de Compras</h1>
            <p style="color: rgba(255,255,255,0.9); font-size: 16px; font-weight: 500; margin-top: 8px;">
                Compara precios, gestiona tu lista y controla vencimientos
            </p>
        </div>

        <div class="tabs">
            <button class="tab active" onclick="cambiarTab('lista', this)">üìù Lista de Compras</button>
            <button class="tab" onclick="cambiarTab('catalogo', this)">üõí Cat√°logo</button>
            <button class="tab" onclick="cambiarTab('vencimientos', this)">‚è∞ Vencimientos</button>
        </div>

        <div class="content">
    <!--Seccion: lista de compras-->
<div id="lista" class="section active">
    <h2 style="margin-bottom: 20px;">Lista de compras</h2>

    <div class="input-group">
        <div class="autocomplete-wrapper" style="flex: 1; position: relative;">
            <label style="font-size: 13px; color: #64748b; font-weight: 600; display: block; margin-bottom: 6px;">Nombre del producto</label>
            <input 
                type="text" 
                id="productoNombre" 
                placeholder="Ej: Leche, Pan, Huevo..."
                oninput="mostrarSugerencias(filtrarProductos(this.value), 'productoNombre', 'sugerenciasLista')"
                onkeydown="manejarTecladoProducto(event)"
                autocomplete="off"
            >
            <div id="sugerenciasLista" class="sugerencias-lista"></div>
        </div>
        
        <div style="flex: 0 0 auto;">
            <label style="font-size: 13px; color: #64748b; font-weight: 600; display: block; margin-bottom: 6px;">Cantidad</label>
            <input type="number" id="productoCantidad" placeholder="1" min="1" value="1" style="max-width: 100px; text-align: center;">
        </div>
        
        <button onclick="agregarProducto()" style="align-self: flex-end;">+ Agregar</button>
    </div>

    <ul id="listaCompras" class="list"></ul>
</div>

    <!--Seccion: CATALOGO (NUEVA)-->
<div id="catalogo" class="section">
    <h2 style="margin-bottom: 20px;">Cat√°logo de Productos</h2>
    
    <!-- Filtros -->
    <div class="filtros-catalogo">
        <input 
            type="text" 
            id="buscarCatalogo" 
            placeholder="üîç Buscar producto..."
            oninput="filtrarCatalogo(this.value)"
            style="flex: 1; margin-bottom: 15px;"
        >
        
        <div class="categorias-filtro">
            <button class="filtro-btn active" onclick="filtrarPorCategoria('Todos')">Todos</button>
            <button class="filtro-btn" onclick="filtrarPorCategoria('L√°cteos')">L√°cteos</button>
            <button class="filtro-btn" onclick="filtrarPorCategoria('Panader√≠a')">Panader√≠a</button>
            <button class="filtro-btn" onclick="filtrarPorCategoria('Carnes')">Carnes</button>
            <button class="filtro-btn" onclick="filtrarPorCategoria('Almac√©n')">Almac√©n</button>
            <button class="filtro-btn" onclick="filtrarPorCategoria('Bebidas')">Bebidas</button>
        </div>
    </div>
    
    <!-- Lista de productos del cat√°logo -->
    <div id="listaCatalogo" class="catalogo-grid"></div>
</div>

    <!--Seccion de vencimientos-->
    <div id="vencimientos" class="section">
        <h2 style="margin-bottom: 20px;">Control de Vencimientos</h2>

        <div class="stats">
            <div class="stat-card">
                <div class="stat-number" id="statUrgente">0</div>
                <div class="stat-label">Vencen pronto</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="statProximo">0</div>
                <div class="stat-label">Pr√≥ximos</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="statTotal">0</div>
                <div class="stat-label">Por consumir</div>
            </div>
        </div>

        <div class="input-group" style="position: relative;">
            <div class="autocomplete-wrapper" style="flex: 1; position: relative;">
                <label style="font-size: 13px; color: #64748b; font-weight: 600; display: block; margin-bottom: 6px;">Nombre del producto</label>
                <input 
                    type="text" 
                    id="vencimientoNombre" 
                    placeholder="Ej: Yogurt, Leche..."
                    oninput="mostrarSugerencias(filtrarProductos(this.value), 'vencimientoNombre', 'sugerenciasVencimiento')"
                    onkeydown="manejarTecladoVencimiento(event)"
                    autocomplete="off"
                >
                <div id="sugerenciasVencimiento" class="sugerencias-lista"></div>
            </div>
            
            <div style="flex: 1;">
                <label style="font-size: 13px; color: #64748b; font-weight: 600; display: block; margin-bottom: 6px;">Fecha de vencimiento</label>
                <input type="date" id="vencimientoFecha">
            </div>
            
            <div style="flex: 0 0 auto;">
                <label style="font-size: 13px; color: #64748b; font-weight: 600; display: block; margin-bottom: 6px;">Alertar con</label>
                <input type="number" id="vencimientoAlerta" placeholder="3" min="1" value="3" style="max-width: 120px; text-align: center;">
                <span style="font-size: 12px; color: #94a3b8; display: block; margin-top: 2px;">d√≠as antes</span>
            </div>
            
            <button onclick="agregarVencimiento()" style="align-self: flex-end;">+ Agregar</button>
            
            <button 
                id="btnCancelarEdicion" 
                onclick="cancelarEdicionVencimiento()" 
                style="align-self: flex-end; background: #64748b; display: none;"
            >
                ‚úñ Cancelar
            </button>
        </div>

        <ul id="listaVencimientos" class="list"></ul>
    </div>
</div>
    </div>

    <script src="script.js"></script>
</body>
</html>
